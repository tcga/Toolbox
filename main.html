<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>TCGA Toolbox</title>
        <link rel="stylesheet" href="css/bootstrap.css" />
        <link rel="stylesheet" href="css/main.css" />
    </head>
    <body>
        <div class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <a class="brand" href="/main.html">TCGA Toolbox</a>
                    <div class="nav-collapse">
                        <ul class="nav">
                            <li><a href="#modules" data-toggle="tab">Modules</a></li>
                            <li><a href="#docs" data-toggle="tab">Documentation</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div id="main" class="container tab-content">
            <div id="home" class="tab-pane active hero-unit">
                <h1>TCGA Toolbox</h1>
                <p>TCGA Toolbox provides a scripting environment to access, process, and analyze data from <a href="http://cancergenome.nih.gov/">TCGA</a> in the browser. It differs from other web apps in that the main interaction happens in the <a href="http://code.google.com/chrome/devtools/docs/overview.html">JavaScript Console</a>.</p>
                <p>This is a work in progress. The code is hosted on <a href="https://github.com/tcga/web-toolbox">GitHub</a>.</p>
            </div>
            <div id="modules" class="tab-pane">
                <div class="page-header">
                    <h1>Modules</h1>
                </div>
                <p>TCGA Toolbox can be extended by loading remote scripts&mdash;either by specifying the URL or by selecting one from our trusted authors.</p>
                <h2>Load module by URL</h2>
                <div>
                    <form id="url-module-loader" class="form-inline">
                        <input type="text" class="span10" placeholder="URL of a module hosted on GitHub or Google Code" />
                        <button class="btn" data-loading-text="Loading...">Load module</button>
                    </form>
                </div>
                <h2>Load module by author</h2>
                <div>
                    <form id="list-module-loader" class="form-inline">
                        <select id="authors">
                            <option selected="selected" disabled="disabled">Loading authors ...</option>
                        </select>
                    </form>
                </div>
                <h2>Loaded modules</h2>
                <div id="registered-modules">
                    <p>You have not loaded a module yet. Why not <a id="promoted-module" href="https://raw.github.com/agrueneberg/TCGA/master/rppa/rppa.js">try RPPA</a>, an app for real time querying and plotting of level 3 reverse phase protein data for GBM?</p>
                    <ul></ul>
                </div>
                <h2>Share your workflow</h2>
                <p>Let other researchers reproduce your work by copying and sharing the following URL.</p>
                <form id="share-modules" class="form-inline">
                    <input type="text" name="url" class="span10" readonly="readonly" />
                    <input type="submit" class="btn" value="Copy" />
                </form>
            </div>
            <div id="docs" class="tab-pane">
                <div class="page-header">
                    <h1>Documentation</h1>
                </div>
                <p>TCGA Toolbox provides some useful functions scoped in the global <code>TCGA</code> namespace to interact with <a href="http://cancergenome.nih.gov/">TCGA</a>.</p>
                <p>Unless stated otherwise, the first argument of a callback function is reserved for an error object, a useful convention to allow error catching in asynchronous programming. If an error object is <code>null</code> no error occurred.</p>
                <h2>Load scripts</h2>
                <table class="table table-bordered table-striped">
                    <tbody>
                        <tr>
                            <td class="span5"><code>TCGA.loadScript(url, callback)</code></td>
                            <td>
                                Loads one or more scripts over HTTP<strong>S</strong> from <a href="https://github.com" target="_blank">GitHub</a> or <a href="https://code.google.com" target="_blank">Google Code</a> (or <a href="https://www.dropbox.com" target="_blank">Dropbox</a> while in development) using HTML script elements.<br />
                                <code>url</code> is a string or a string array of URLs, <code>callback</code> a function with two parameters, an error object and a string array of loaded scripts.
                            </td>
                        </tr>
                        <tr>
                            <td><code>TCGA.modules(callback)</code></td>
                            <td>
                                Returns a list of loaded modules.<br />
                                <code>callback</code> is a function with two parameters, an error object and a string array of loaded modules.
                            </td>
                        </tr>
                    </tbody>
                </table>
                <h2>Find data</h2>
                <table class="table table-bordered table-striped">
                    <tbody>
                        <tr>
                            <td class="span5"><code>TCGA.find(query, callback)</code></td>
                            <td>
                                Queries the TCGA RDF file index.<br />
                                <code>query</code> is a SPARQL query string, <code>callback</code> a function with two parameters, an error object and an object representing the SPARQL query results in the <a href="http://www.w3.org/TR/sparql11-results-json/">SPARQL 1.1 Query Results JSON Format</a>.
                            </td>
                        </tr>
                    </tbody>
                </table>
                <h2>Get data</h2>
                <table class="table table-bordered table-striped">
                    <tbody>
                        <tr>
                            <td class="span5"><code>TCGA.get(url, callback)</code></td>
                            <td>
                                Downloads the contents of a file from <a href="https://tcga-data.nci.nih.gov/tcgafiles/ftp_auth/distro_ftpusers/anonymous/tumor/">TCGA's open-access HTTP directory</a> or any <a href="http://www.w3.org/TR/cors/">CORS</a>-enabled service.<br />
                                <code>url</code> is a URL string, <code>callback</code> a function with two parameters, an error object and a string representing the contents of the requested file.
                            </td>
                        </tr>
                        <tr>
                            <td><code>TCGA.get.json(url, callback)</code></td>
                            <td>
                                Same as <code>TCGA.get</code>, but parses the downloaded file to JSON.<br />
                                <code>url</code> is a URL string, <code>callback</code> a function with two parameters, an error object and an object representing the contents of the requested file as JSON.
                            </td>
                        </tr>
                        <tr>
                            <td><code>TCGA.get.xml(url, callback)</code></td>
                            <td>
                                Same as <code>TCGA.get</code>, but parses the downloaded file to XML.<br />
                                <code>url</code> is a URL string, <code>callback</code> a function with two parameters, an error object and an object representing the contents of the requested file as XML.
                            </td>
                        </tr>
                        <tr>
                            <td><code>TCGA.get.sparql(url, callback)</code></td>
                            <td>
                                Same as <code>TCGA.get</code>, but parses the downloaded file to the <a href="http://www.w3.org/TR/sparql11-results-json/">SPARQL 1.1 Query Results JSON Format</a>.<br />
                                <code>url</code> is a URL string, <code>callback</code> a function with two parameters, an error object and an object representing the SPARQL query results as JSON.
                            </td>
                        </tr>
                        <tr>
                            <td><code>TCGA.get.range(url, startByte, endByte, callback)</code></td>
                            <td>
                                Same as <code>TCGA.get</code>, but downloads only a subset of the file within the specified byte range.<br />
                                <code>url</code> is a URL string, <code>startByte</code> and <code>endByte</code> the integer range of bytes to download, and <code>callback</code> a function with two parameters, an error object and a string representing the partial contents of the requested file.
                            </td>
                        </tr>
                        <tr>
                            <td><code>TCGA.get.archive(url, callback)</code></td>
                            <td>
                                Same as <code>TCGA.get</code>, but extracts the downloaded gzipped archive.<br />
                                <code>url</code> is a URL string, <code>callback</code> a function with two parameters, an error object and an object representing the contents of the requested archive.
                            </td>
                        </tr>
                    </tbody>
                </table>
                <h2>Store data temporarily</h2>
                <table class="table table-bordered table-striped">
                    <tbody>
                        <tr>
                            <td class="span5"><code>TCGA.data</code></td>
                            <td>We are trying to establish a convention that modules should put data that they want to share with other modules in a place where they can find them. <code>TCGA.data</code> is the simplest solution for that problem: it is a regular JavaScript object in the TCGA namespace. Be aware of the consequences when working with it: you will work with references rather than copies unless you copy the data yourself, e.g. <code>JSON.parse(JSON.stringify(TCGA.data["data-from-some-other-module"]))</code>.</td>
                        </tr>
                    </tbody>
                </table>
                <h2>Store data permanently (unless you delete your browsing history)</h2>
                <table class="table table-bordered table-striped">
                    <tbody>
                        <tr>
                            <td class="span5"><code>TCGA.store.set(key, value, callback)</code></td>
                            <td>
                                Adds a key-value pair to the store.<br />
                                <code>key</code> is a string representing the key, <code>value</code> any type representing the value, and <code>callback</code> a function with one parameter, an error object.
                            </td>
                        </tr>
                        <tr>
                            <td><code>TCGA.store.get(key, callback)</code></td>
                            <td>
                                Retrieves a key-value pair from the store.<br />
                                <code>key</code> is a string representing the key, <code>callback</code> a function with two parameters, an error object and any type representing the value.
                            </td>
                        </tr>
                        <tr>
                            <td><code>TCGA.store.del(key, callback)</code></td>
                            <td>
                                Removes a key-value pair from the store.<br />
                                <code>key</code> is a string representing the key, <code>callback</code> a function with one parameter, an error object.
                            </td>
                        </tr>
                        <tr>
                            <td><code>TCGA.store.exists(key, callback)</code></td>
                            <td>
                                Checks if a key-value pair with the specified key exists in the store.<br />
                                <code>key</code> is a string representing the key, <code>callback</code> a function with two parameters, an error object and a boolean indicating if it is in the store or not.
                            </td>
                        </tr>
                        <tr>
                            <td><code>TCGA.store.keys(callback)</code></td>
                            <td>
                                Returns a list of all keys in the stores.<br />
                                <code>callback</code> is a function with two parameters, an error object and a string array of keys.
                            </td>
                        </tr>
                        <tr>
                            <td><code>TCGA.store.clear(callback)</code></td>
                            <td>
                                Removes all key-value pairs from the store.<br />
                                <code>callback</code> is a function with one parameter, an error object.
                            </td>
                        </tr>
                    </tbody>
                </table>
                <h2>User Interface</h2>
                <h3>Register tab in main menu</h3>
                <table class="table table-bordered table-striped">
                    <tbody>
                        <tr>
                            <td class="span5"><code>TCGA.ui.registerTab(options)</code></td>
                            <td>
                                Registers a tab in the menu bar of the TCGA Toolbox.<br />
                                <code>options</code> is an object with the following properties: <code>id</code> is a string representing the ID of the tab (we recommend to name it after your module), <code>title</code> is a string representing the title of your module, and <code>switchTab</code> is a boolean indicating whether the TCGA Toolbox should immediately switch to your tab after it was created.
                            </td>
                        </tr>
                    </tbody>
                </table>
                <h3>Display notifications</h3>
                <table class="table table-bordered table-striped">
                    <tbody>
                        <tr>
                            <td class="span5"><code>TCGA.ui.toast.info(message, duration)</code></td>
                            <td>Displays an info notification with the specified string <code>message</code> for the specified <code>duration</code> in milliseconds.</td>
                        </tr>
                        <tr>
                            <td><code>TCGA.ui.toast.success(message, duration)</code></td>
                            <td>Displays a success notification with the specified string <code>message</code> for the specified <code>duration</code> in milliseconds.</td>
                        </tr>
                        <tr>
                            <td><code>TCGA.ui.toast.error(message, duration)</code></td>
                            <td>Displays an error notification with the specified string <code>message</code> for the specified <code>duration</code> in milliseconds.</td>
                        </tr>
                    </tbody>
                </table>
                <h2>Get version information</h2>
                <table class="table table-bordered table-striped">
                    <tbody>
                        <tr>
                            <td class="span5"><code>TCGA.version()</code></td>
                            <td>Returns the current version of the TCGA Toolbox.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <hr id="end-of-content" />
            <footer>
                <p>
                    University of Alabama at Birmingham<br />
                    Division of Informatics<br />
                    Department of Pathology<br />
                    <a href="http://uab.mathbiol.org/informatics">http://uab.mathbiol.org/informatics</a>
                </p>
            </footer>
        </div>
        <script src="lib/jquery.js"></script>
        <script src="lib/grapin.js"></script>
        <script src="lib/ganglion.js"></script>
        <script src="lib/gzip.js"></script>
        <script src="lib/tcga.js"></script>
        <script src="lib/bootstrap.js"></script>
        <script src="lib/gui.js"></script>
        <script src="lib/analytics.js"></script>
    </body>
</html>
